<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bloom & Co. | Custom Bouquets & Decor</title>
  <meta name="description" content="Handcrafted bouquets, balloon arches, surprise boxes, and more." />
  <meta property="og:image" content="/balloon_arches/IMG_1209.JPEG" />
  <meta property="og:url" content="/" />
  <meta name="twitter:card" content="summary_large_image" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: { extend: { colors: { primary: '#8B5CF6', secondary: '#EC4899', accent: '#10B981' } } }
    }
  </script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;500;600&display=swap');
    body { font-family: 'Poppins', sans-serif; }
    h1,h2,h3,h4 { font-family: 'Playfair Display', serif; }
  </style>
</head>
<body class="bg-white text-gray-800">
  <!-- Header -->
  <header class="bg-white shadow-sm sticky top-0 z-50">
    <div class="container mx-auto px-4 py-4 flex justify-between items-center">
      <div class="flex items-center space-x-2">
        <div class="w-10 h-10 bg-gradient-to-r from-primary to-secondary rounded-full"></div>
        <h1 class="text-2xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent">Bloom & Co.</h1>
      </div>
      <nav class="hidden md:flex space-x-8">
        <a href="#home" class="hover:text-primary">Home</a>
        <a href="#gallery" class="hover:text-primary">Gallery</a>
        <a href="#about" class="hover:text-primary">About</a>
        <a href="#contact" class="hover:text-primary">Contact</a>
      </nav>
      <a href="https://wa.me/17871234567" class="text-green-500 hover:text-green-600" aria-label="WhatsApp">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-7 h-7" viewBox="0 0 24 24" fill="currentColor"><path d="M20.52 3.48A11.86 11.86 0 0012.07 0 12 12 0 000 12a11.86 11.86 0 003.48 8.52L2 24l3.6-1.44A12 12 0 1020.52 3.48zM12 22a10 10 0 01-5.1-1.4l-.37-.22-2.17.87.82-2.28-.24-.38A10 10 0 1122 12 10 10 0 0112 22zm5.6-7.47c-.31-.15-1.86-.92-2.15-1s-.5-.15-.71.15-.81 1-1 1.21-.37.23-.67.08a8.08 8.08 0 01-2.38-1.47A9 9 0 017.72 11c-.17-.29 0-.45.13-.6s.31-.37.46-.56a2 2 0 00.31-.52.54.54 0 000-.52c-.08-.15-.71-1.71-1-2.34s-.53-.54-.71-.55h-.6a1.15 1.15 0 00-.83.39 3.51 3.51 0 00-1.09 2.63 6.09 6.09 0 001.25 3.25 14 14 0 005.39 5 18.08 18.08 0 002.05.75 4.92 4.92 0 002.26.14 3.6 3.6 0 002.37-1.66 3 3 0 00.2-1.66c-.08-.14-.29-.23-.6-.38z"/></svg>
      </a>
    </div>
  </header>

  <!-- Hero -->
  <section id="home" class="relative h-[60vh] md:h-[80vh] overflow-hidden">
    <img id="heroImg" alt="Hero" class="absolute inset-0 w-full h-full object-cover" />
    <div class="absolute inset-0 bg-black/40"></div>
    <div class="relative container mx-auto px-4 h-full flex items-center justify-center text-center text-white">
      <div class="max-w-3xl">
        <h2 class="text-5xl md:text-7xl font-bold mb-6">Handcrafted with Love</h2>
        <p class="text-xl md:text-2xl">Custom bouquets, balloon arches, and surprise boxes</p>
      </div>
    </div>
  </section>

  <!-- Gallery -->
  <section id="gallery" class="py-16">
    <div class="container mx-auto px-4">
      <div class="text-center mb-10">
        <h2 class="text-4xl font-bold mb-3">Our Gallery</h2>
        <p class="text-gray-600">Browse our latest creations</p>
      </div>

      <div class="flex flex-wrap justify-center gap-3 mb-8" id="filters"></div>

      <div id="grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"></div>
    </div>
  </section>

  <!-- About -->
  <section id="about" class="py-16 bg-gray-50">
    <div class="container mx-auto px-4">
      <div class="flex flex-col lg:flex-row items-center gap-10">
        <div class="lg:w-1/2 flex justify-center">
          <img id="ownerImg" class="rounded-full w-72 h-72 object-cover shadow-lg" alt="Owner" />
        </div>
        <div class="lg:w-1/2">
          <h3 class="text-4xl font-bold mb-4">About Bloom & Co.</h3>
          <p class="text-lg text-gray-700">
            We craft custom bouquets and décor for birthdays, graduations, romantic moments and more.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact" class="py-16">
    <div class="container mx-auto px-4">
      <div class="text-center mb-10">
        <h2 class="text-4xl font-bold mb-3">Get In Touch</h2>
        <p class="text-gray-600">Ready to create something beautiful? Message us!</p>
      </div>
      <div class="text-center">
        <a href="https://wa.me/17871234567" class="inline-block bg-primary text-white px-8 py-3 rounded-full font-semibold hover:bg-purple-700">WhatsApp Order</a>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-gray-900 text-white py-10">
    <div class="container mx-auto px-4 text-center text-gray-300">
      © 2025 Bloom & Co.
    </div>
  </footer>

  <script>
    // Map folders -> categories for filters
    const CATEGORY_FROM_FOLDER = (folder) => {
      if (folder === 'balloon_arches') return 'birthdays';
      if (folder === 'money_bouquets') return 'quinceaneras';
      if (folder === 'flower_bouquets' || folder === 'flower_mix' || folder === 'eternal_roses') return 'romantic';
      if (folder === 'graduation') return 'graduation';
      if (folder === 'room_decorations') return 'decor';
      return 'custom';
    };

    // Build UI
    async function main() {
      // Load manifest
      let data;
      try {
        const r = await fetch('/gallery-manifest.json', { cache: 'no-cache' });
        if (!r.ok) throw new Error('manifest not found');
        data = await r.json();
      } catch (e) {
        console.error(e);
        document.getElementById('grid').innerHTML =
          '<div class="col-span-full text-center text-gray-600">Could not load images.</div>';
        return;
      }

      // Owner image
      const owner = (data.owner_picture && data.owner_picture[0]) || null;
      const ownerImg = document.getElementById('ownerImg');
      ownerImg.src = owner ? `/owner_picture/${owner}` : 'https://via.placeholder.com/300x300?text=Owner';

      // Hero image (pick random from a few folders)
      const pickRandom = (folder) => {
        const arr = (data[folder] || []);
        return arr.length ? `/${folder}/${arr[Math.floor(Math.random()*arr.length)]}` : null;
      };
      const heroCandidates = ['balloon_arches','surprise_boxes','graduation','eternal_roses']
        .map(pickRandom).filter(Boolean);
      document.getElementById('heroImg').src = heroCandidates[0] || '/room_decorations/IMG_0035.JPEG';

      // Flatten gallery
      const all = [];
      Object.keys(data).forEach(folder => {
        (data[folder] || []).forEach(file => {
          all.push({
            src: `/${folder}/${file}`,
            cat: CATEGORY_FROM_FOLDER(folder),
            alt: `${folder} creation`
          });
        });
      });

      // Filters
      const filters = ['all','birthdays','quinceaneras','romantic','graduation','decor','custom'];
      const filtersEl = document.getElementById('filters');
      let active = 'all';
      filters.forEach(f => {
        const btn = document.createElement('button');
        btn.className = 'px-4 py-2 rounded-full capitalize bg-gray-200 text-gray-700 hover:bg-gray-300';
        btn.textContent = f;
        btn.onclick = () => { active = f; renderGrid(); highlight(); };
        filtersEl.appendChild(btn);
      });
      function highlight() {
        [...filtersEl.children].forEach(b => {
          if (b.textContent === active) {
            b.className = 'px-4 py-2 rounded-full capitalize bg-primary text-white';
          } else {
            b.className = 'px-4 py-2 rounded-full capitalize bg-gray-200 text-gray-700 hover:bg-gray-300';
          }
        });
      }
      highlight();

      // Grid
      const grid = document.getElementById('grid');
      function renderGrid() {
        const list = active === 'all' ? all : all.filter(i => i.cat === active);
        grid.innerHTML = list.slice(0, 48).map(i =>
          `<div class="aspect-square overflow-hidden rounded-lg shadow">
             <img src="${i.src}" alt="${i.alt}" class="w-full h-full object-cover">
           </div>`).join('');
      }
      renderGrid();
    }

    main();
  </script>

  <!-- (optional) Tidio or other scripts -->
  <!-- <script src="//code.tidio.co/YOUR_ID.js" async></script> -->
</body>
</html>
